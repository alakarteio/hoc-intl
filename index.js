!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react"),require("fbjs/lib/shallowEqual"),require("intl-messageformat"),require("k-intl/locale-data/en")):"function"==typeof define&&define.amd?define(["exports","react","fbjs/lib/shallowEqual","intl-messageformat","k-intl/locale-data/en"],t):t((e=e||self)["k-intl"]={},e.React,e.shallowEqual,e.IntlMessageFormat,e.defaultLocaleData)}(this,function(e,a,i,o,t){"use strict";var l="default"in a?a.default:a;i=i&&i.hasOwnProperty("default")?i.default:i,o=o&&o.hasOwnProperty("default")?o.default:o,t=t&&t.hasOwnProperty("default")?t.default:t;var n=function(n){var r=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];return function(e){var t=e.store&&e.store.getState()&&e.store.getState().config;if((!t||!t[n])&&r)throw new Error("/HOC k-intl/ ".concat(n," is not readable. Make sure that this one is available at config.").concat(n," on your redux store"));return t[n]}},c=n("locale"),u=n("lang"),f=n("formats",!1);function r(e){[].concat(e).forEach(function(e){e&&e.locale&&o.__addLocaleData(e)})}var p=function(e,t){return"string"==typeof t?(n=e,t.split(".").reduce(function(e,t){return e&&e[t]},n)):e;var n},d={},b=window.navigator.language||window.navigator.browserLanguage;r(t);var h=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"";if(e)try{for(var n=arguments.length,r=new Array(2<n?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];return function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return babelHelpers.construct(o,t)}.apply(void 0,[t].concat(r)).format(e)}catch(e){console.warn("/HOC k-intl/",e.message)}return t},v=function(){var s=0<arguments.length&&void 0!==arguments[0]?arguments[0]:b,i=1<arguments.length?arguments[1]:void 0,c=2<arguments.length?arguments[2]:void 0;return function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[];if(!i)return{};var t,n,a,o,l=e;return"string"==typeof l&&(n=e,o=p(i,t=l),l=o&&"string"!=typeof o?Object.keys(o).reduce(function(e,t){return babelHelpers.objectSpread({},e,babelHelpers.defineProperty({},t,"".concat(n,".").concat(t)))},d):babelHelpers.defineProperty({},(a=t.split("."))[a.length-1],t)),Object.keys(l).reduce(function(e,t){var n=p(i,l[t]);return babelHelpers.objectSpread({},e,babelHelpers.defineProperty({},t,h(r[t],n,s,c)))},d)}};e.default=function(s){return function(t){var e,n,r;return n=e=function(e){function n(e,t){var l;return babelHelpers.classCallCheck(this,n),l=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(n).call(this,e,t)),babelHelpers.defineProperty(babelHelpers.assertThisInitialized(babelHelpers.assertThisInitialized(l)),"inject",function(e){var t=u(l.context),n=c(l.context),r=f(l.context),a=s;"function"==typeof s&&(a=s(e||l.props));var o=v(t,n,r)(a,e||l.props);i(l.state.injectedProps.messages,o)||l.setState(function(e){return babelHelpers.objectSpread({},e,{injectedProps:{messages:o}})})}),l.messages={},l.state={injectedProps:{}},l}return babelHelpers.inherits(n,e),babelHelpers.createClass(n,[{key:"componentWillMount",value:function(){var e=this;this.unsubscribe=this.context.store.subscribe(function(){e.inject()}),this.inject()}},{key:"componentWillReceiveProps",value:function(e){this.inject(e)}},{key:"componentWillUnmount",value:function(){this.unsubscribe()}},{key:"render",value:function(){return l.createElement(t,babelHelpers.extends({},this.props,this.state.injectedProps))}}]),n}(a.Component),babelHelpers.defineProperty(e,"displayName",(r=t,"".concat("Intl"," (").concat(r.displayName||r.name||r.constructor&&r.constructor.name||"Unknown",")"))),babelHelpers.defineProperty(e,"contextTypes",{store:function(){return null}}),n}},e.addLocaleData=r,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=index.js.map
