!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("react"),require("lodash")):"function"==typeof define&&define.amd?define(["react","lodash"],t):e["k-intl"]=t(e.React,e._)}(this,function(e,t){"use strict";var n="default"in e?e.default:e,o=function(e){if(!(e.store&&e.store.getState()&&e.store.getState().config&&e.store.getState().config.locale))throw new Error("/ HOC k-intl / locale is not readable. make sure that this one is available at `config.local` on your redux store");return e.store.getState().config.locale},r=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),c=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},u=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},l=/{{([\s\S]+?)}}/g,s={},f=function(e){return function(n,o){return Object.keys(n).reduce(function(r,i){var u=t.get(e,n[i]);return o&&o[i]?a({},r,c({},i,t.template(u,{interpolate:l})(o[i]))):a({},r,c({},i,u))},s)}};return function(t){return function(c){var l,s,p;return s=l=function(l){function s(e,n){r(this,s);var i=u(this,(s.__proto__||Object.getPrototypeOf(s)).call(this,e,n));return i.format=function(e){var n=o(i.context);n!==i.locale&&(i.locale=n,i.setState(function(n){return a({},n,{injectedProps:{labels:f(i.context.store.getState().config.locale)(t,e||i.props)}})}))},i.locale={},i.state={injectedProps:{}},i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(s,e.Component),i(s,[{key:"componentWillMount",value:function(){var e=this;this.unsubscribe=this.context.store.subscribe(function(){e.format()}),this.format()}},{key:"componentWillReceiveProps",value:function(e){this.format(e)}},{key:"componentWillUnmount",value:function(){this.unsubscribe()}},{key:"render",value:function(){return n.createElement(c,a({},this.props,this.state.injectedProps))}}]),s}(),l.displayName="Intl("+((p=c).displayName||p.name||p.constructor&&p.constructor.name||"Unknown")+")",l.contextTypes={store:function(){return null}},s}}});
//# sourceMappingURL=index.js.map
